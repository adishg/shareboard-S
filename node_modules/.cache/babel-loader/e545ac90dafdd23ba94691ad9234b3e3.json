{"ast":null,"code":"import * as Sentry from \"@sentry/browser\";\nimport * as SentryIntegrations from \"@sentry/integrations\";\nconst SentryEnvHostnameMap = {\n  \"excalidraw.com\": \"production\",\n  \"vercel.app\": \"staging\"\n};\nconst REACT_APP_DISABLE_SENTRY = process.env.REACT_APP_DISABLE_SENTRY === \"true\"; // Disable Sentry locally or inside the Docker to avoid noise/respect privacy\n\nconst onlineEnv = !REACT_APP_DISABLE_SENTRY && Object.keys(SentryEnvHostnameMap).find(item => window.location.hostname.indexOf(item) >= 0);\nSentry.init({\n  dsn: onlineEnv ? \"https://7bfc596a5bf945eda6b660d3015a5460@sentry.io/5179260\" : undefined,\n  environment: onlineEnv ? SentryEnvHostnameMap[onlineEnv] : undefined,\n  release: process.env.REACT_APP_GIT_SHA,\n  ignoreErrors: [\"undefined is not an object (evaluating 'window.__pad.performLoop')\" // Only happens on Safari, but spams our servers. Doesn't break anything\n  ],\n  integrations: [new SentryIntegrations.CaptureConsole({\n    levels: [\"error\"]\n  })],\n\n  beforeSend(event) {\n    var _event$request;\n\n    if ((_event$request = event.request) === null || _event$request === void 0 ? void 0 : _event$request.url) {\n      event.request.url = event.request.url.replace(/#.*$/, \"\");\n    }\n\n    return event;\n  }\n\n});","map":{"version":3,"sources":["/var/www/html/excalidraw/src/excalidraw-app/sentry.ts"],"names":["Sentry","SentryIntegrations","SentryEnvHostnameMap","REACT_APP_DISABLE_SENTRY","process","env","onlineEnv","Object","keys","find","item","window","location","hostname","indexOf","init","dsn","undefined","environment","release","REACT_APP_GIT_SHA","ignoreErrors","integrations","CaptureConsole","levels","beforeSend","event","request","url","replace"],"mappings":"AAAA,OAAO,KAAKA,MAAZ,MAAwB,iBAAxB;AACA,OAAO,KAAKC,kBAAZ,MAAoC,sBAApC;AAEA,MAAMC,oBAA+C,GAAG;AACtD,oBAAkB,YADoC;AAEtD,gBAAc;AAFwC,CAAxD;AAKA,MAAMC,wBAAwB,GAC5BC,OAAO,CAACC,GAAR,CAAYF,wBAAZ,KAAyC,MAD3C,C,CAGA;;AACA,MAAMG,SAAS,GACb,CAACH,wBAAD,IACAI,MAAM,CAACC,IAAP,CAAYN,oBAAZ,EAAkCO,IAAlC,CACGC,IAAD,IAAUC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,CAAyBC,OAAzB,CAAiCJ,IAAjC,KAA0C,CADtD,CAFF;AAMAV,MAAM,CAACe,IAAP,CAAY;AACVC,EAAAA,GAAG,EAAEV,SAAS,GACV,4DADU,GAEVW,SAHM;AAIVC,EAAAA,WAAW,EAAEZ,SAAS,GAAGJ,oBAAoB,CAACI,SAAD,CAAvB,GAAqCW,SAJjD;AAKVE,EAAAA,OAAO,EAAEf,OAAO,CAACC,GAAR,CAAYe,iBALX;AAMVC,EAAAA,YAAY,EAAE,CACZ,oEADY,CAC0D;AAD1D,GANJ;AASVC,EAAAA,YAAY,EAAE,CACZ,IAAIrB,kBAAkB,CAACsB,cAAvB,CAAsC;AACpCC,IAAAA,MAAM,EAAE,CAAC,OAAD;AAD4B,GAAtC,CADY,CATJ;;AAcVC,EAAAA,UAAU,CAACC,KAAD,EAAQ;AAAA;;AAChB,0BAAIA,KAAK,CAACC,OAAV,mDAAI,eAAeC,GAAnB,EAAwB;AACtBF,MAAAA,KAAK,CAACC,OAAN,CAAcC,GAAd,GAAoBF,KAAK,CAACC,OAAN,CAAcC,GAAd,CAAkBC,OAAlB,CAA0B,MAA1B,EAAkC,EAAlC,CAApB;AACD;;AACD,WAAOH,KAAP;AACD;;AAnBS,CAAZ","sourcesContent":["import * as Sentry from \"@sentry/browser\";\nimport * as SentryIntegrations from \"@sentry/integrations\";\n\nconst SentryEnvHostnameMap: { [key: string]: string } = {\n  \"excalidraw.com\": \"production\",\n  \"vercel.app\": \"staging\",\n};\n\nconst REACT_APP_DISABLE_SENTRY =\n  process.env.REACT_APP_DISABLE_SENTRY === \"true\";\n\n// Disable Sentry locally or inside the Docker to avoid noise/respect privacy\nconst onlineEnv =\n  !REACT_APP_DISABLE_SENTRY &&\n  Object.keys(SentryEnvHostnameMap).find(\n    (item) => window.location.hostname.indexOf(item) >= 0,\n  );\n\nSentry.init({\n  dsn: onlineEnv\n    ? \"https://7bfc596a5bf945eda6b660d3015a5460@sentry.io/5179260\"\n    : undefined,\n  environment: onlineEnv ? SentryEnvHostnameMap[onlineEnv] : undefined,\n  release: process.env.REACT_APP_GIT_SHA,\n  ignoreErrors: [\n    \"undefined is not an object (evaluating 'window.__pad.performLoop')\", // Only happens on Safari, but spams our servers. Doesn't break anything\n  ],\n  integrations: [\n    new SentryIntegrations.CaptureConsole({\n      levels: [\"error\"],\n    }),\n  ],\n  beforeSend(event) {\n    if (event.request?.url) {\n      event.request.url = event.request.url.replace(/#.*$/, \"\");\n    }\n    return event;\n  },\n});\n"]},"metadata":{},"sourceType":"module"}