{"ast":null,"code":"import { __assign } from \"tslib\";\nimport { consoleSandbox } from '@sentry/utils';\n/** JSDoc */\n\nvar Debug =\n/** @class */\nfunction () {\n  /**\n   * @inheritDoc\n   */\n  function Debug(options) {\n    /**\n     * @inheritDoc\n     */\n    this.name = Debug.id;\n    this._options = __assign({\n      debugger: false,\n      stringify: false\n    }, options);\n  }\n  /**\n   * @inheritDoc\n   */\n\n\n  Debug.prototype.setupOnce = function (addGlobalEventProcessor, getCurrentHub) {\n    addGlobalEventProcessor(function (event, hint) {\n      var self = getCurrentHub().getIntegration(Debug);\n\n      if (self) {\n        if (self._options.debugger) {\n          // eslint-disable-next-line no-debugger\n          debugger;\n        }\n        /* eslint-disable no-console */\n\n\n        consoleSandbox(function () {\n          if (self._options.stringify) {\n            console.log(JSON.stringify(event, null, 2));\n\n            if (hint) {\n              console.log(JSON.stringify(hint, null, 2));\n            }\n          } else {\n            console.log(event);\n\n            if (hint) {\n              console.log(hint);\n            }\n          }\n        });\n        /* eslint-enable no-console */\n      }\n\n      return event;\n    });\n  };\n  /**\n   * @inheritDoc\n   */\n\n\n  Debug.id = 'Debug';\n  return Debug;\n}();\n\nexport { Debug };","map":{"version":3,"sources":["../src/debug.ts"],"names":[],"mappings":";AACA,SAAS,cAAT,QAA+B,eAA/B;AAQA;;AACA,IAAA,KAAA;AAAA;AAAA,YAAA;AAcE;;AAEG;AACH,WAAA,KAAA,CAAmB,OAAnB,EAAyC;AAXzC;;AAEG;AACI,SAAA,IAAA,GAAe,KAAK,CAAC,EAArB;AASL,SAAK,QAAL,GAAa,QAAA,CAAA;AACX,MAAA,QAAQ,EAAE,KADC;AAEX,MAAA,SAAS,EAAE;AAFA,KAAA,EAGR,OAHQ,CAAb;AAKD;AAED;;AAEG;;;AACI,EAAA,KAAA,CAAA,SAAA,CAAA,SAAA,GAAP,UAAiB,uBAAjB,EAA8E,aAA9E,EAAsG;AACpG,IAAA,uBAAuB,CAAC,UAAC,KAAD,EAAe,IAAf,EAA+B;AACrD,UAAM,IAAI,GAAG,aAAa,GAAG,cAAhB,CAA+B,KAA/B,CAAb;;AACA,UAAI,IAAJ,EAAU;AACR,YAAI,IAAI,CAAC,QAAL,CAAc,QAAlB,EAA4B;AAC1B;AACA;AACD;AAED;;;AACA,QAAA,cAAc,CAAC,YAAA;AACb,cAAI,IAAI,CAAC,QAAL,CAAc,SAAlB,EAA6B;AAC3B,YAAA,OAAO,CAAC,GAAR,CAAY,IAAI,CAAC,SAAL,CAAe,KAAf,EAAsB,IAAtB,EAA4B,CAA5B,CAAZ;;AACA,gBAAI,IAAJ,EAAU;AACR,cAAA,OAAO,CAAC,GAAR,CAAY,IAAI,CAAC,SAAL,CAAe,IAAf,EAAqB,IAArB,EAA2B,CAA3B,CAAZ;AACD;AACF,WALD,MAKO;AACL,YAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;;AACA,gBAAI,IAAJ,EAAU;AACR,cAAA,OAAO,CAAC,GAAR,CAAY,IAAZ;AACD;AACF;AACF,SAZa,CAAd;AAaA;AACD;;AACD,aAAO,KAAP;AACD,KAzBsB,CAAvB;AA0BD,GA3BM;AA3BP;;AAEG;;;AACW,EAAA,KAAA,CAAA,EAAA,GAAa,OAAb;AAoDhB,SAAA,KAAA;AAAC,CAxDD,EAAA;;SAAa,K","sourcesContent":["import { Event, EventHint, EventProcessor, Hub, Integration } from '@sentry/types';\nimport { consoleSandbox } from '@sentry/utils';\n\n/** JSDoc */\ninterface DebugOptions {\n  stringify?: boolean;\n  debugger?: boolean;\n}\n\n/** JSDoc */\nexport class Debug implements Integration {\n  /**\n   * @inheritDoc\n   */\n  public static id: string = 'Debug';\n\n  /**\n   * @inheritDoc\n   */\n  public name: string = Debug.id;\n\n  /** JSDoc */\n  private readonly _options: DebugOptions;\n\n  /**\n   * @inheritDoc\n   */\n  public constructor(options?: DebugOptions) {\n    this._options = {\n      debugger: false,\n      stringify: false,\n      ...options,\n    };\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setupOnce(addGlobalEventProcessor: (callback: EventProcessor) => void, getCurrentHub: () => Hub): void {\n    addGlobalEventProcessor((event: Event, hint?: EventHint) => {\n      const self = getCurrentHub().getIntegration(Debug);\n      if (self) {\n        if (self._options.debugger) {\n          // eslint-disable-next-line no-debugger\n          debugger;\n        }\n\n        /* eslint-disable no-console */\n        consoleSandbox(() => {\n          if (self._options.stringify) {\n            console.log(JSON.stringify(event, null, 2));\n            if (hint) {\n              console.log(JSON.stringify(hint, null, 2));\n            }\n          } else {\n            console.log(event);\n            if (hint) {\n              console.log(hint);\n            }\n          }\n        });\n        /* eslint-enable no-console */\n      }\n      return event;\n    });\n  }\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}